(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{9578:function(t,e,a){Promise.resolve().then(a.bind(a,3942))},3942:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=a(7437),n=a(2265),s=a(7870),r=a(4102),l=a(1396),o=a.n(l),c=a(3347),u=a(2574),d=a(6324),h=a(2566);function m(t){let e={top:10,bottom:30,left:60},[a,l]=(0,n.useState)(window.innerWidth),[o,m]=(0,n.useState)(a>1e3?800:.9*a),[p,f]=(0,n.useState)(a>1e3?500:350);(0,n.useLayoutEffect)(()=>{l(window.innerWidth)},[]),(0,h.Z)(t=>{l(t)});let[x,g]=(0,n.useState)(t.data),w=(0,u.T)(),j=(0,u.C)(t=>t.chartReducer.selectCountries);(0,n.useEffect)(()=>{w((0,c.R0)(x)),g(x)},[w,x]);let v=(0,n.useRef)(null),_=d.Fp7(x,t=>t.population),b=d.BYU().domain([0,_]).range([.3,1]),E=(0,n.useCallback)(()=>{let t=d.Ys(v.current),a=d.tiA().domain(x.map(t=>t.translations.kor.common)).range([e.left,o-e.left]).padding(.2),i=d.BYU().domain([0,_]).range([p-e.top-e.bottom,e.top]).nice(),n=d.LLu(a).tickSizeOuter(0);t.select(".x_axis").attr("transform","translate(0, ".concat(p-e.bottom,")")).call(n),t.selectAll(".tick").attr("width",a.bandwidth());let s=d.y4O(i).ticks(x.length).tickSizeInner(0).tickSizeOuter(0);t.select(".y_axis").attr("transform","translate(".concat(e.left,", ").concat(e.top,")")).call(s),t.selectAll(".bar_group").remove(),t.append("g").attr("class","bar_group").selectAll("rect").data(x).enter().append("rect").attr("class","bar").attr("x",t=>a(t.translations.kor.common)).attr("y",t=>i(t.population)+e.top).attr("width",a.bandwidth()).attr("height",t=>p-e.bottom-e.top-i(t.population)).style("fill",t=>d.XwM(b(t.population)))},[x,b,_,p,o,e.bottom,e.left,e.top]);return(0,n.useEffect)(()=>{m(a>1e3?800:.8*a),f(a>1e3?500:350),E()},[a,E]),(0,i.jsxs)(s.E.div,{className:"barchart",variants:r.Z,custom:.8,children:[(0,i.jsxs)("svg",{ref:v,width:o,height:p,children:[(0,i.jsx)("g",{className:"x_axis"}),(0,i.jsx)("g",{className:"y_axis"}),(0,i.jsx)("g",{className:"bar_group"})]}),(0,i.jsx)("ul",{className:"bar_legend",children:j.length>0&&j.map(t=>(0,i.jsxs)("li",{children:[(0,i.jsx)("svg",{className:"color_table",width:14,height:14,children:(0,i.jsx)("rect",{className:"color_table_rect",width:14,height:14,fill:d.XwM(b(t.population))})}),(0,i.jsx)("p",{className:"countries_name",children:t.translations.kor.common})]},t.population))})]})}function p(){let t=(0,u.T)();(0,n.useEffect)(()=>{t((0,c.Vr)())},[t]);let e=[],a=[],l=(0,u.C)(t=>t.chartReducer.total),d=(0,u.C)(t=>{for(;e.length<7;){let t=Math.floor(Math.random()*l);e.push(t)}return a.length<7&&e.map(e=>a.push(t.chartReducer.countries[e])),a});return(0,i.jsx)("section",{id:"PreviewChart",className:"preview_chart",children:(0,i.jsxs)("div",{className:"inner",children:[(0,i.jsx)(s.E.h2,{className:"title",variants:r.Z,initial:"hide",animate:"show",custom:.2,children:"CHART"}),(0,i.jsxs)(s.E.p,{className:"title_desc",variants:r.Z,initial:"hide",animate:"show",custom:.3,children:[l,"개의 국가 중에 ",7,"개 국가를 랜덤으로 선택해 인구 수를 그래프로 그렸습니다.",(0,i.jsx)("br",{})]}),(0,i.jsxs)(s.E.p,{className:"title_desc",variants:r.Z,initial:"hide",animate:"show",custom:.3,children:[(0,i.jsx)("b",{children:"데이터 출저"}),(0,i.jsx)(o(),{href:"https://restcountries.com",target:"_blank",rel:"noopener noreferrer",passHref:!0,className:"link",children:"https://restcountries.com"})]}),(0,i.jsxs)(s.E.div,{className:"title_desc skill_point",variants:r.Z,initial:"hide",animate:"show",custom:.4,children:[(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"핵심 기술"})}),(0,i.jsxs)(s.E.ul,{className:"pill_group",children:[(0,i.jsx)(s.E.li,{variants:r.Z,initial:"hide",animate:"show",custom:.5,children:"D3.js"}),(0,i.jsx)(s.E.li,{variants:r.Z,initial:"hide",animate:"show",custom:.5,children:"SVG"}),(0,i.jsx)(s.E.li,{variants:r.Z,initial:"hide",animate:"show",custom:.5,children:"반응형"}),(0,i.jsx)(s.E.li,{variants:r.Z,initial:"hide",animate:"show",custom:.5,children:"Redux"}),(0,i.jsx)(s.E.li,{variants:r.Z,initial:"hide",animate:"show",custom:.5,children:"Redux-Toolkit"})]})]}),void 0!==d[0]&&(0,i.jsx)(m,{data:d})]})})}},2566:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});var i=a(2265);function n(t){(0,i.useLayoutEffect)(()=>{let e=()=>{let e=window.innerWidth;t(e)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}})}},3347:function(t,e,a){"use strict";a.d(e,{A0:function(){return c},R0:function(){return o},Vr:function(){return s}});var i=a(1201),n=a(2173);let s=(0,i.hg)("chart/getCountries",async(t,e)=>{try{let t=await n.Z.get("https://restcountries.com/v3.1/all?fields=translations,population");return e.fulfillWithValue(t.data)}catch(t){return e.rejectWithValue(t)}}),r=(0,i.oM)({name:"chart",initialState:{countries:[],selectCountries:[],total:0,isLoading:"false",error:null},reducers:{setData:(t,e)=>({...t,countries:e.payload}),sortData:(t,e)=>({...t,selectCountries:e.payload})},extraReducers:t=>{t.addCase(s.pending,t=>{t.isLoading="pending"}).addCase(s.fulfilled,(t,e)=>{t.isLoading="fulfilled",t.countries=e.payload,t.total=e.payload.length}).addCase(s.rejected,(t,e)=>{t.isLoading="rejected",t.error=e.error.message})}});r.name;let{setData:l,sortData:o}=r.actions,c=r.reducer},2574:function(t,e,a){"use strict";a.d(e,{C:function(){return s},T:function(){return n}});var i=a(3198);let n=()=>(0,i.I0)(),s=i.v9},4102:function(t,e,a){"use strict";a.d(e,{Z:function(){return i}});let i={show:t=>({opacity:1,transition:{delay:.2*t,duration:1}}),hide:{opacity:0,transition:{duration:.1}}}}},function(t){t.O(0,[431,396,73,173,324,971,472,744],function(){return t(t.s=9578)}),_N_E=t.O()}]);