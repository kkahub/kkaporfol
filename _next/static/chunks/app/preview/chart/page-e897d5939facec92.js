(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{9578:function(t,e,n){Promise.resolve().then(n.bind(n,3942))},3942:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var a=n(7437),i=n(2265),r=n(7870),s=n(4102),o=n(1396),l=n.n(o),c=n(3347),u=n(2574),d=n(230),h=n(6324),p=n(2566),m=n(5805);function f(){let t=(0,d._)(["\n  opacity: 0;\n  position: absolute;\n  padding: 10px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.6);\n  font-size: 14px;\n\n  p {\n    white-space: nowrap;\n    color: #fff;\n    text-align: left;\n  }\n"]);return f=function(){return t},t}let x=m.ZP.div(f());function g(t){let e={top:10,bottom:30,left:60},[n,o]=(0,i.useState)(window.innerWidth),[l,d]=(0,i.useState)(n>1e3?800:.9*n),[m,f]=(0,i.useState)(n>1e3?500:350);(0,i.useLayoutEffect)(()=>{o(window.innerWidth)},[]),(0,p.Z)(t=>{o(t)});let{data:g}=t,[b,j]=(0,i.useState)(g),w=(0,u.T)(),y=(0,u.C)(t=>t.chartReducer.selectCountries);(0,i.useEffect)(()=>{w((0,c.R0)(b)),j(b)},[w,b]);let _=(0,i.useRef)(null),v=(0,i.useRef)(null),k=h.Fp7(b,t=>t.population),E=h.BYU().domain([0,k]).range([.3,1]),N=(0,i.useCallback)(()=>{let t=h.Ys(_.current),a=h.tiA().domain(b.map(t=>t.translations.kor.common)).range([e.left,l]).padding(.2),i=h.BYU().domain([0,k]).range([m-e.top-e.bottom,e.top]).nice(),r=h.LLu(a).tickSizeOuter(0);t.select(".x_axis").attr("transform","translate(0, ".concat(m-e.bottom,")")).call(r),t.select(".x_axis").selectAll(".tick").attr("width",a.bandwidth());let s=h.y4O(i).ticks(b.length).tickSizeOuter(0);t.select(".y_axis").attr("transform","translate(".concat(e.left,", ").concat(e.top,")")).call(s);let o=h.Ys(v.current);t.selectAll(".bar_group").remove(),t.append("g").attr("class","bar_group").selectAll("rect").data(b).enter().append("rect").attr("class","bar").attr("x",t=>a(t.translations.kor.common)).attr("y",t=>{let n=m-e.bottom-e.top-i(t.population);return n>2?i(t.population)+e.top:i(t.population)+e.top-2}).attr("width",a.bandwidth()).attr("height",t=>{let n=m-e.bottom-e.top-i(t.population);return n>2?n:2}).style("fill",t=>h.XwM(E(t.population))).on("mouseenter",(t,e)=>{n<1e3||(o.html("<p>국가 : ".concat(e.translations.kor.common,"</p><p>인구수 : ").concat(e.population.toLocaleString(),"명</p>")).transition().duration(200).style("opacity",1).style("left","".concat(a(e.translations.kor.common)+a.bandwidth()+5,"px")).style("top","".concat(i(e.population),"px")),h.Ys(t.target).transition().duration(200).style("opacity",.6))}).on("mouseleave",t=>{n<1e3||(o.style("opacity",0),h.Ys(t.target).transition().duration(50).style("opacity",1))}).transition().duration(500)},[b,E,k,n,m,l,e.bottom,e.left,e.top]);return(0,i.useEffect)(()=>{d(n>1e3?800:.9*n),f(n>1e3?500:350),N()},[n,N]),(0,a.jsxs)(r.E.div,{className:"barchart_group",variants:s.Z,initial:"hide",animate:"show",custom:1,children:[(0,a.jsxs)("div",{className:"barchart",children:[(0,a.jsxs)("svg",{ref:_,width:l,height:m,children:[(0,a.jsx)("g",{className:"x_axis"}),(0,a.jsx)("g",{className:"y_axis"}),(0,a.jsx)("g",{className:"bar_group"})]}),n>1e3&&(0,a.jsx)(x,{ref:v})]}),(0,a.jsx)("ul",{className:"bar_legend",children:y.length>0&&y.map(t=>(0,a.jsxs)("li",{children:[(0,a.jsx)("svg",{className:"color_table",width:14,height:14,children:(0,a.jsx)("rect",{className:"color_table_rect",width:14,height:14,fill:h.XwM(E(t.population))})}),(0,a.jsx)("p",{className:"countries_name",children:t.translations.kor.common})]},t.population))})]})}function b(){let t=(0,u.T)();(0,i.useEffect)(()=>{t((0,c.Vr)())},[t]);let e=[],n=[],o=(0,u.C)(t=>t.chartReducer.total),d=(0,u.C)(t=>{for(;e.length<7;){let t=Math.floor(Math.random()*o);e.push(t)}return n.length<7&&e.map(e=>n.push(t.chartReducer.countries[e])),n});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.E.h2,{className:"title",variants:s.Z,initial:"hide",animate:"show",custom:.2,children:"CHART"}),(0,a.jsxs)(r.E.p,{className:"title_desc",variants:s.Z,initial:"hide",animate:"show",custom:.4,children:[o,"개의 국가 중에 ",7,"개 국가를 랜덤으로 데이터를 불러와 인구 수를 그래프로 그렸습니다.",(0,a.jsx)("br",{}),"그래프 바에 마우스를 올리면 정보가 표시됩니다."]}),(0,a.jsxs)(r.E.div,{className:"title_desc skill_point",variants:s.Z,initial:"hide",animate:"show",custom:.4,children:[(0,a.jsx)("p",{children:(0,a.jsx)("b",{children:"핵심 기술"})}),(0,a.jsxs)(r.E.ul,{className:"pill_group",variants:s.Z,initial:"hide",animate:"show",custom:.6,children:[(0,a.jsx)(r.E.li,{children:"D3.js"}),(0,a.jsx)(r.E.li,{children:"SVG"}),(0,a.jsx)(r.E.li,{children:"반응형"}),(0,a.jsx)(r.E.li,{children:"styled-components"}),(0,a.jsx)(r.E.li,{children:"Redux"}),(0,a.jsx)(r.E.li,{children:"Redux-Toolkit"}),(0,a.jsx)(r.E.li,{children:"Typescript"})]})]}),(0,a.jsxs)(r.E.p,{className:"title_desc",variants:s.Z,initial:"hide",animate:"show",custom:.6,children:[(0,a.jsx)("b",{children:"데이터 출저"}),(0,a.jsx)(l(),{href:"https://restcountries.com",target:"_blank",rel:"noopener noreferrer",passHref:!0,className:"link",children:"https://restcountries.com"})]}),(0,a.jsxs)(r.E.p,{className:"title_desc",variants:s.Z,initial:"hide",animate:"show",custom:.6,children:[(0,a.jsx)("b",{children:"Github"}),(0,a.jsx)(l(),{href:"https://github.com/kkahub/kkaporfol/blob/main/src/components/chart/bar.tsx",target:"_blank",rel:"noopener noreferrer",passHref:!0,className:"link",children:"코드 소스 보기"})]}),void 0!==d[0]&&(0,a.jsx)(g,{data:d})]})}},2566:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var a=n(2265),i=n(8143),r=n.n(i);function s(t){(0,a.useLayoutEffect)(()=>{let e=r()(()=>{let e=window.innerWidth;t(e)},300);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}})}},3347:function(t,e,n){"use strict";n.d(e,{A0:function(){return c},R0:function(){return l},Vr:function(){return r}});var a=n(1201),i=n(2173);let r=(0,a.hg)("chart/getCountries",async(t,e)=>{try{let t=await i.Z.get("https://restcountries.com/v3.1/all?fields=translations,population");return e.fulfillWithValue(t.data)}catch(t){return e.rejectWithValue(t)}}),s=(0,a.oM)({name:"chart",initialState:{countries:[],selectCountries:[],total:0,isLoading:"false",error:null},reducers:{setData:(t,e)=>({...t,countries:e.payload}),sortData:(t,e)=>({...t,selectCountries:e.payload})},extraReducers:t=>{t.addCase(r.pending,t=>{t.isLoading="pending"}).addCase(r.fulfilled,(t,e)=>{t.isLoading="fulfilled",t.countries=e.payload,t.total=e.payload.length}).addCase(r.rejected,(t,e)=>{t.isLoading="rejected",t.error=e.error.message})}});s.name;let{setData:o,sortData:l}=s.actions,c=s.reducer},2574:function(t,e,n){"use strict";n.d(e,{C:function(){return r},T:function(){return i}});var a=n(3198);let i=()=>(0,a.I0)(),r=a.v9},4102:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});let a={show:t=>({opacity:1,transition:{delay:.2*t,duration:1}}),hide:{opacity:0,transition:{duration:.1}}}}},function(t){t.O(0,[431,396,73,963,668,971,472,744],function(){return t(t.s=9578)}),_N_E=t.O()}]);